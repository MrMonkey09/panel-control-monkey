<section
  class="flex-center border-box bg-primary"
  *ngIf="scrn._constants.isPanelScreenUsed"
>
  <ul
    id="screensDetectedQueue"
    *ngIf="
      (scrn._constants.isScreenModifiedOpened &&
        scrn._constants.avalaibles &&
        scrn._constants.avalaibles.length !== 0) ||
      (scrn._constants.isScreenActivatedOpened &&
        scrn._constants.screensDetectedQueue &&
        scrn._constants.screensDetectedQueue.length !== 0)
    "
  >
    <li
      class="flex-center"
      *ngFor="
        let screen of scrn._constants.isScreenActivatedOpened
          ? scrn._constants.screensDetectedQueue
          : scrn._constants.avalaibles
      "
      (click)="scrn.getScreenInQueue(screen)"
      [ngStyle]="
        !scrn._constants.currentScreenInQueue
          ? { cursor: 'pointer' }
          : scrn._constants.currentScreenInQueue.id === screen.id
          ? { 'background-color': 'black' }
          : { cursor: 'pointer' }
      "
    >
      <span
        [ngStyle]="
          !scrn._constants.currentScreenInQueue
            ? { cursor: 'pointer' }
            : scrn._constants.currentScreenInQueue.id === screen.id
            ? {}
            : { cursor: 'pointer' }
        "
        >ID:{{ " " + screen.id + " | " }}IP:{{ " " + screen.ip }}</span
      >
    </li>
  </ul>
  <form
    (ngSubmit)="
      scrn.getForm(
        scrn._constants.screenDetectedForm,
        scrn._constants.isScreenActivatedOpened &&
          !scrn._constants.isScreenModifiedOpened
          ? 'isActivate'
          : 'isModify',
        userService._userConstants.user
      )
    "
    class="flex-center"
    id="screenQueueInfo"
    *ngIf="
      (scrn._constants.isScreenModifiedOpened &&
        scrn._constants.avalaibles &&
        scrn._constants.avalaibles.length !== 0) ||
      (scrn._constants.isScreenActivatedOpened &&
        scrn._constants.screensDetectedQueue &&
        scrn._constants.screensDetectedQueue.length !== 0)
    "
    [ngStyle]="
      scrn._constants.isScreenActivatedOpened ||
      scrn._constants.isScreenModifiedOpened
        ? { width: '100%' }
        : {}
    "
  >
    <div class="flex-center inputBlock">
      <label for="brand">Marca: </label>
      <input
        [(ngModel)]="scrn._constants.screenDetectedForm.brand"
        type="text"
        name="brand"
        id="brand"
        style="cursor: text"
      />
    </div>
    <div class="flex-center inputBlock">
      <label for="location">Lugar:</label>
      <select
        [(ngModel)]="scrn._constants.screenDetectedForm.location"
        name="location"
        id="location"
        style="cursor: pointer"
      >
        <option value="0"></option>
        <option
          *ngFor="let location of scrn._constants.locations"
          [value]="location.id + 1"
        >
          {{ location.id + " | " + location.name }}
        </option>
      </select>
    </div>
    <div class="flex-center inputBlock">
      <label for="department">Departamento: </label>
      <select
        [selectedIndex]="
          scrn._constants.screenDetectedForm
            ? scrn._constants.screenDetectedForm.department
            : null
        "
        name="deparment"
        id="department"
        style="cursor: pointer"
        [(ngModel)]="scrn._constants.screenDetectedForm.department"
      >
        <option value="0"></option>
        <option
          *ngFor="let department of userService._userConstants.departmentList"
          [value]="department.id + 1"
        >
          {{ department.name }}
        </option>
      </select>
    </div>
    <div class="flex-center inputBlock">
      <button type="submit" style="cursor: pointer">
        {{
          scrn._constants.isScreenActivatedOpened &&
          !scrn._constants.isScreenModifiedOpened
            ? "Activar"
            : "Guardar"
        }}
      </button>
    </div>
  </form>
  <ul
    class="flex-center"
    id="screensDetectedQueueDel"
    *ngIf="
      scrn._constants.isScreenDesactivatedOpened &&
      scrn._constants.avalaibles &&
      scrn._constants.avalaibles.length !== 0
    "
  >
    <li
      class="flex-center"
      id="screenDetectedInfoDel"
      *ngFor="let screen of scrn._constants.avalaibles"
    >
      <div class="flex-center full-area">
        <span>ID:{{ " " + screen.id + " | " }}IP:{{ " " + screen.ip }}</span>
        <span
          >Marca:{{ " " + screen.brand + " | " }}Lugar:{{
            " " + screen.location.name
          }}</span
        >
      </div>
      <button
        type="button"
        (click)="scrn.desactivateScreen(screen)"
        style="cursor: pointer"
      >
        Desactivar
      </button>
    </li>
  </ul>
  <h1
    *ngIf="
      (scrn._constants.isScreenModifiedOpened ||
        scrn._constants.isScreenDesactivatedOpened) &&
      (!scrn._constants.avalaibles ||
        scrn._constants.avalaibles.length === 0)
    "
    style="color: aliceblue; text-shadow: 1px 1px 2px black"
  >
    No se encontraron pantallas disponibles :(
  </h1>
  <h1
    *ngIf="
      scrn._constants.isScreenActivatedOpened &&
      (!scrn._constants.screensDetectedQueue ||
        scrn._constants.screensDetectedQueue.length === 0)
    "
    style="color: aliceblue; text-shadow: 1px 1px 2px black"
  >
    No se encontraron pantallas detectadas en cola :(
  </h1>
</section>
